const diagramLayout={name:"klay",fit:!0,rankDir:"TB",nodeSep:40,rankSep:60,klay:{direction:"DOWN",thoroughness:7,nodePlacement:"LINEAR_SEGMENTS",cycleBreaking:"GREEDY",spacing:8,inLayerSpacingFactor:2,edgeSpacingFactor:.2,borderSpacing:10},priority:e=>Math.round(e.data("strength"))},diagramStyle=cytoscape.stylesheet().selector("node").css({content:"data(id)",shape:"rectangle",height:"25px",width:"90px",padding:0,color:"#000","background-color":"#ede9ed","text-valign":"center","text-halign":"center","font-family":"Lato, Verdana, Geneva, sans-serif","font-size":"10px"}).selector("edge").css({width:"mapData(strength, 0, 1, 0.33, 1.45)","line-color":"#dce6d7","line-style":"solid","target-arrow-shape":"triangle-backcurve","target-arrow-color":"#dce6d7","target-arrow-fill":"filled","target-distance-from-node":"0px","curve-style":"bezier","arrow-scale":.6}).selector("node.highlight").css({"background-color":"#aac0f6"}).selector("node.hushed").css({opacity:"0.25"}).selector("edge.highlight-ingoer").css({"line-color":"#a69d90","target-arrow-color":"#afa699","z-index":1}).selector("edge.highlight-outgoer").css({"line-color":"#143ea6","target-arrow-color":"#1441bb","z-index":1}).selector("edge.violation").css({"line-color":"#ff4444","target-arrow-color":"#ff4444"}).selector("edge.hushed").css({"line-color":"#cfcfcf","target-arrow-color":"#cfcfcf",opacity:"0.15","z-index":0});function drawDiagram(e,t){const o=_.map(t.components,(e,t)=>({data:{id:t}})),a=_.map(t.dependencies,(e,t)=>{const[o,a]=t.split(" -> ");return{data:{source:o,target:a,strength:e.strength}}}),s=cytoscape({container:e,style:diagramStyle,layout:diagramLayout,boxSelectionEnabled:!1,autounselectify:!0,wheelSensitivity:.3,maxZoom:1.5,elements:{nodes:o,edges:a}});e.style.visibility="hidden",setTimeout(()=>{s.elements().addClass("dummy"),s.elements().removeClass("dummy"),e.style.visibility="visible"},10);const i=e=>e.target().position("y")<e.source().position("y");s.edges().filter(i).addClass("violation"),s.on("drag","node",e=>{const t=e.target;t.connectedEdges(".violation").removeClass("violation"),t.connectedEdges().filter(i).addClass("violation")}),s.on("mouseover","node",e=>{const t=e.target;s.elements().subtract(t.outgoers()).subtract(t.incomers()).subtract(t).addClass("hushed"),t.addClass("highlight"),t.outgoers().addClass("highlight-outgoer"),t.incomers().addClass("highlight-ingoer")}),s.on("mouseout","node",e=>{const t=e.target;s.elements().removeClass("hushed"),t.removeClass("highlight"),t.outgoers().removeClass("highlight-outgoer"),t.incomers().removeClass("highlight-ingoer")})}function socomo(e,t){const o=_.keys(t)[0],a=_.values(t)[0];document.body.innerHTML=`\n\t<div id="header-container">\n\t\t<h1>${e} &nbsp;&#x276d;&nbsp; <code>${o}</code></h1>\n\t</div>\n\t<div id="diagram-container">\n\t\t<div id="main-diagram"></div>\n\t</div>`,drawDiagram(document.getElementById("main-diagram"),a)}