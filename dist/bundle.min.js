!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("klayjs")):"function"==typeof define&&define.amd?define(["klayjs"],t):"object"==typeof exports?exports.cytoscapeKlay=t(require("klayjs")):e.cytoscapeKlay=t(e.$klay)}(this,function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){"use strict";var n=r(4),a=r(1),i=r(2),o={addUnnecessaryBendpoints:"de.cau.cs.kieler.klay.layered.unnecessaryBendpoints",alignment:"de.cau.cs.kieler.alignment",aspectRatio:"de.cau.cs.kieler.aspectRatio",borderSpacing:"borderSpacing",compactComponents:"de.cau.cs.kieler.klay.layered.components.compact",compactionStrategy:"de.cau.cs.kieler.klay.layered.nodeplace.compactionStrategy",contentAlignment:"de.cau.cs.kieler.klay.layered.contentAlignment",crossingMinimization:"de.cau.cs.kieler.klay.layered.crossMin",cycleBreaking:"de.cau.cs.kieler.klay.layered.cycleBreaking",debugMode:"de.cau.cs.kieler.debugMode",direction:"de.cau.cs.kieler.direction",edgeLabelSideSelection:"de.cau.cs.kieler.klay.layered.edgeLabelSideSelection",edgeRouting:"de.cau.cs.kieler.edgeRouting",edgeSpacingFactor:"de.cau.cs.kieler.klay.layered.edgeSpacingFactor",feedbackEdges:"de.cau.cs.kieler.klay.layered.feedBackEdges",fixedAlignment:"de.cau.cs.kieler.klay.layered.fixedAlignment",greedySwitchCrossingMinimization:"de.cau.cs.kieler.klay.layered.greedySwitch",hierarchyHandling:"de.cau.cs.kieler.hierarchyHandling",inLayerSpacingFactor:"de.cau.cs.kieler.klay.layered.inLayerSpacingFactor",interactiveReferencePoint:"de.cau.cs.kieler.klay.layered.interactiveReferencePoint",layerConstraint:"de.cau.cs.kieler.klay.layered.layerConstraint",layoutHierarchy:"de.cau.cs.kieler.layoutHierarchy",linearSegmentsDeflectionDampening:"de.cau.cs.kieler.klay.layered.linearSegmentsDeflectionDampening",mergeEdges:"de.cau.cs.kieler.klay.layered.mergeEdges",mergeHierarchyCrossingEdges:"de.cau.cs.kieler.klay.layered.mergeHierarchyEdges",noLayout:"de.cau.cs.kieler.noLayout",nodeLabelPlacement:"de.cau.cs.kieler.nodeLabelPlacement",nodeLayering:"de.cau.cs.kieler.klay.layered.nodeLayering",nodePlacement:"de.cau.cs.kieler.klay.layered.nodePlace",portAlignment:"de.cau.cs.kieler.portAlignment",portAlignmentEastern:"de.cau.cs.kieler.portAlignment.east",portAlignmentNorth:"de.cau.cs.kieler.portAlignment.north",portAlignmentSouth:"de.cau.cs.kieler.portAlignment.south",portAlignmentWest:"de.cau.cs.kieler.portAlignment.west",portConstraints:"de.cau.cs.kieler.portConstraints",portLabelPlacement:"de.cau.cs.kieler.portLabelPlacement",portOffset:"de.cau.cs.kieler.offset",portSide:"de.cau.cs.kieler.portSide",portSpacing:"de.cau.cs.kieler.portSpacing",postCompaction:"de.cau.cs.kieler.klay.layered.postCompaction",priority:"de.cau.cs.kieler.priority",randomizationSeed:"de.cau.cs.kieler.randomSeed",routeSelfLoopInside:"de.cau.cs.kieler.selfLoopInside",separateConnectedComponents:"de.cau.cs.kieler.separateConnComp",sizeConstraint:"de.cau.cs.kieler.sizeConstraint",sizeOptions:"de.cau.cs.kieler.sizeOptions",spacing:"de.cau.cs.kieler.spacing",splineSelfLoopPlacement:"de.cau.cs.kieler.klay.layered.splines.selfLoopPlacement",thoroughness:"de.cau.cs.kieler.klay.layered.thoroughness",wideNodesOnMultipleLayers:"de.cau.cs.kieler.klay.layered.wideNodesOnMultipleLayers"},c=function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var a=t[n],i=o[a],c=e[a];r[i]=c}return r},s={interactiveReferencePoint:"CENTER"},l=function(e){var t=e.parent(),r=e.scratch("klay"),n={x:r.x,y:r.y};if(t.nonempty()){var a=t.scratch("klay");n.x+=a.x,n.y+=a.y}return n},d=function(e,t){var r=e.layoutDimensions(t),n=e.numericStyle("padding"),a={_cyEle:e,id:e.id(),padding:{top:n,left:n,bottom:n,right:n}};return e.isParent()||(a.width=r.w,a.height=r.h),e.scratch("klay",a),a},u=function(e,t){var r={_cyEle:e,id:e.id(),source:e.data("source"),target:e.data("target"),properties:{}},n=t.priority(e);return null!=n&&(r.properties.priority=n),e.scratch("klay",r),r};function g(e){var t=e.klay;this.options=a({},i,e),this.options.klay=a({},i.klay,t,s)}g.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),a=function(e,t,r){for(var n=[],a=[],i={},o={id:"root",children:[],edges:[]},c=0;c<e.length;c++){var s=e[c],l=d(s,r);n.push(l),i[s.id()]=l}for(var g=0;g<t.length;g++){var y=t[g],p=u(y,r);a.push(p),i[y.id()]=p}for(var m=0;m<n.length;m++){var h=n[m],f=h._cyEle;if(f.isChild()){var k=i[f.parent().id()];(k.children=k.children||[]).push(h)}else o.children.push(h)}for(var v=0;v<a.length;v++){var b=a[v],S=b._cyEle;S.source().parent(),S.target().parent(),o.edges.push(b)}return o}(r,t.edges(),e);return n.layout({graph:a,options:c(e.klay),success:function(){},error:function(e){throw e}}),r.filter(function(e){return!e.isParent()}).layoutPositions(this,e,l),this},g.prototype.stop=function(){return this},g.prototype.destroy=function(){return this},e.exports=g},function(e,t,r){"use strict";e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.filter(function(e){return null!=e}).forEach(function(t){Object.keys(t).forEach(function(r){return e[r]=t[r]})}),e}},function(e,t,r){"use strict";var n={nodeDimensionsIncludeLabels:!1,fit:!0,padding:20,animate:!1,animateFilter:function(e,t){return!0},animationDuration:500,animationEasing:void 0,transform:function(e,t){return t},ready:void 0,stop:void 0,klay:{addUnnecessaryBendpoints:!1,aspectRatio:1.6,borderSpacing:20,compactComponents:!1,crossingMinimization:"LAYER_SWEEP",cycleBreaking:"GREEDY",direction:"UNDEFINED",edgeRouting:"ORTHOGONAL",edgeSpacingFactor:.5,feedbackEdges:!1,fixedAlignment:"NONE",inLayerSpacingFactor:1,layoutHierarchy:!1,linearSegmentsDeflectionDampening:.3,mergeEdges:!1,mergeHierarchyCrossingEdges:!0,nodeLayering:"NETWORK_SIMPLEX",nodePlacement:"BRANDES_KOEPF",randomizationSeed:1,routeSelfLoopInside:!1,separateConnectedComponents:!0,spacing:20,thoroughness:7},priority:function(e){return null}};e.exports=n},function(e,t,r){"use strict";var n=r(0),a=function(e){e&&e("layout","klay",n)};"undefined"!=typeof cytoscape&&a(cytoscape),e.exports=a},function(t,r){t.exports=e}])});const diagramLayout={name:"klay",rankDir:"TB",nodeSep:40,rankSep:60,fit:!0,klay:{direction:"DOWN",thoroughness:7,nodePlacement:"LINEAR_SEGMENTS",cycleBreaking:"GREEDY",spacing:8,inLayerSpacingFactor:2,edgeSpacingFactor:.2,borderSpacing:10},priority:e=>Math.round(e.data("strength"))},diagramStyle=cytoscape.stylesheet().selector("node").css({content:"data(id)",shape:"rectangle",height:"25px",width:"90px",padding:0,color:"#000","background-color":"#ede9ed","text-valign":"center","text-halign":"center","font-family":"Lato, Verdana, Geneva, sans-serif","font-size":"10px"}).selector("edge").css({width:"mapData(strength, 0, 1, 0.33, 1.00)","line-color":"#dce6d7","line-style":"solid","target-arrow-shape":"triangle-backcurve","target-arrow-color":"#dce6d7","target-arrow-fill":"filled","target-distance-from-node":"0px","curve-style":"bezier","arrow-scale":.6}).selector("node.highlight").css({"background-color":"#aac0f6"}).selector("node.hushed").css({opacity:"0.25"}).selector("edge.highlight-ingoer").css({"line-color":"#1a991a","target-arrow-color":"#1a831a","z-index":1}).selector("edge.highlight-outgoer").css({"line-color":"#143ea6","target-arrow-color":"#1441bb","z-index":1}).selector("edge.violation").css({"line-color":"#ff4444","target-arrow-color":"#ff4444"}).selector("edge.hushed").css({"line-color":"#cfcfcf","target-arrow-color":"#cfcfcf",opacity:"0.2","z-index":0});function drawDiagram(e,t){const r=_.map(t.components,(e,t)=>({data:{id:t}})),n=_.map(t.dependencies,(e,t)=>{const[r,n]=t.split(" -> ");return{data:{source:r,target:n,strength:e.strength}}}),a=cytoscape({container:e,style:diagramStyle,layout:diagramLayout,boxSelectionEnabled:!1,autounselectify:!0,wheelSensitivity:.3,maxZoom:1.5,elements:{nodes:r,edges:n}});e.style.visibility="hidden",setTimeout(()=>{a.elements().addClass("dummy"),a.elements().removeClass("dummy"),e.style.visibility="visible"},10);const i=e=>e.target().position("y")<e.source().position("y");a.edges().filter(i).addClass("violation"),a.on("drag","node",e=>{const t=e.target;t.connectedEdges(".violation").removeClass("violation"),t.connectedEdges().filter(i).addClass("violation")}),a.on("mouseover","node",e=>{const t=e.target;a.elements().subtract(t.outgoers()).subtract(t.incomers()).subtract(t).addClass("hushed"),t.addClass("highlight"),t.outgoers().addClass("highlight-outgoer"),t.incomers().addClass("highlight-ingoer")}),a.on("mouseout","node",e=>{const t=e.target;a.elements().removeClass("hushed"),t.removeClass("highlight"),t.outgoers().removeClass("highlight-outgoer"),t.incomers().removeClass("highlight-ingoer")})}function socomo(e,t){const r=_.keys(t)[0],n=_.values(t)[0];document.body.innerHTML=`\n\t<div id="header-container">\n\t\t<h1>${e} &nbsp;&#x276d;&nbsp; <code>${r}</code></h1>\n\t</div>\n\t<div id="diagram-container">\n\t\t<div id="main-diagram"></div>\n\t</div>`,drawDiagram(document.getElementById("main-diagram"),n)}